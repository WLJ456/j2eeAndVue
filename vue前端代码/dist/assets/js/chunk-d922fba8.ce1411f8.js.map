{"version":3,"sources":["webpack:///./src/components/login.vue?c101","webpack:///src/components/login.vue","webpack:///./src/components/login.vue?2b27","webpack:///./src/components/login.vue","webpack:///./src/components/login.vue?30b5","webpack:///./src/assets/logo.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","flagAlert1","expression","attrs","flagAlert2","_m","ref","form","loginRlues","nativeOn","$event","type","indexOf","_k","keyCode","key","login","model","callback","$$v","$set","on","_v","resetForm","staticRenderFns","data","user","pwd","created","$store","commit","console","log","state","roleInfo","methods","$refs","loginRef","resetFields","validate","valid","url","method","params","username","password","component","module","exports"],"mappings":"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","file":"assets/js/chunk-d922fba8.ce1411f8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login_container\"},[_c('el-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.flagAlert1),expression:\"!flagAlert1\"}],attrs:{\"title\":\"登录成功\",\"type\":\"success\",\"show-icon\":\"\",\"center\":\"\"}}),_c('el-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.flagAlert2),expression:\"!flagAlert2\"}],attrs:{\"title\":\"账号或密码错误！\",\"type\":\"error\",\"show-icon\":\"\",\"center\":\"\"}}),_c('div',{staticClass:\"login_box\"},[_vm._m(0),_c('el-form',{ref:\"loginRef\",staticClass:\"login_form\",attrs:{\"label-width\":\"0px\",\"model\":_vm.form,\"rules\":_vm.loginRlues}},[_c('el-form-item',{attrs:{\"prop\":\"user\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}}},[_c('el-input',{staticClass:\"login_user\",attrs:{\"prefix-icon\":\"el-icon-user-solid\",\"maxlength\":\"13\"},model:{value:(_vm.form.user),callback:function ($$v) {_vm.$set(_vm.form, \"user\", $$v)},expression:\"form.user\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"pwd\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}}},[_c('el-input',{staticClass:\"login_pwd\",attrs:{\"type\":\"password\",\"maxlength\":\"16\",\"prefix-icon\":\"el-icon-lock\"},model:{value:(_vm.form.pwd),callback:function ($$v) {_vm.$set(_vm.form, \"pwd\", $$v)},expression:\"form.pwd\"}})],1),_c('el-form-item',{staticClass:\"btns\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")]),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.resetForm('loginRef')}}},[_vm._v(\"重置\")])],1),_c('router-link',{staticClass:\"toReg\",attrs:{\"to\":\"./register\"}},[_vm._v(\"没有账号? 前往注册\")])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon_box\"},[_c('img',{attrs:{\"src\":require(\"../assets/logo.png\"),\"alt\":\"\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n<!-- 登录页面 -->\n  <div class=\"login_container\">\n    <el-alert title=\"登录成功\" type=\"success\" show-icon center v-show=\"!flagAlert1\"></el-alert>\n    <el-alert title=\"账号或密码错误！\" type=\"error\" show-icon center v-show=\"!flagAlert2\"></el-alert>\n    <div class=\"login_box\">\n      <!-- logo区域 -->\n      <div class=\"icon_box\">\n        <img src=\"../assets/logo.png\" alt />\n      </div>\n      <!-- 这个表单区域 -->\n      <el-form\n        label-width=\"0px\"\n        :model=\"form\"\n        :rules=\"loginRlues\"\n        class=\"login_form\"\n        ref=\"loginRef\"\n      >\n        <el-form-item prop=\"user\" @keyup.enter.native=\"login\">\n          <el-input\n            class=\"login_user\"\n            prefix-icon=\"el-icon-user-solid\"\n            maxlength=\"13\"\n            v-model=\"form.user\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item prop=\"pwd\" @keyup.enter.native=\"login\">\n          <el-input\n            type=\"password\"\n            class=\"login_pwd\"\n            maxlength=\"16\"\n            prefix-icon=\"el-icon-lock\"\n            v-model=\"form.pwd\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item class=\"btns\">\n          <el-button type=\"primary\" @click=\"login\">登录</el-button>\n          <el-button type=\"info\" @click=\"resetForm('loginRef')\">重置</el-button>\n        </el-form-item>\n        <router-link to=\"./register\" class=\"toReg\">没有账号? 前往注册</router-link>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { request } from '../api/request.js';\nexport default {\n  data() {\n    return {\n      flagAlert1: true,\n      flagAlert2: true,\n      form: {\n        user: '',\n        pwd: ''\n      },\n      loginRlues: {\n        user: [\n          { required: true, message: '账号不能为空' },\n          { max: 13, min: 3, message: '账号必须为3~13位的字符' }\n        ],\n        pwd: [\n          { required: true, message: '密码不能为空' },\n          { max: 16, min: 6, message: '请输入6~16位的密码' }\n        ]\n      }\n    };\n  },\n  created() {\n    //重置数据\n    this.$store.commit('removeRole');\n    console.log(this.$store.state.roleInfo);\n  },\n  methods: {\n    //重置表单\n    resetForm(loginRef) {\n      this.$refs[loginRef].resetFields();\n    },\n    //登录校验和请求\n    login() {\n      this.$refs.loginRef.validate(valid => {\n        if (!valid) {\n          console.log(valid);\n        } else {\n          //登录请求\n          request({\n            url: '/user/login',\n            method: 'post',\n            params: {\n              username: this.form.user,\n              password: this.form.pwd\n            }\n          })\n            .then(res => {\n              //如果请求数据为空，提示错误信息\n              if (res.data === '') {\n                this.flagAlert2 = !this.flagAlert2;\n                this.$router.push('/');\n              } else {\n                this.$store.commit('upRoleInfo', res.data);\n                this.flagAlert1 = !this.flagAlert1;\n                // 跳转页面\n                setTimeout(() => {\n                  this.$router.push({\n                    name: 'homePage',\n                    query: { id: res.data.username }\n                  });\n                }, 1000);\n              }\n            })\n            .catch(err => {\n              console.log(err);\n            });\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n.login_container {\n  height: 100%;\n  width: 100%;\n  background-color: #bbe6d6;\n  .el-alert {\n    width: 29%;\n    left: 50%;\n    top: 10px;\n    transform: translateX(-50%);\n    position: absolute;\n  }\n  .login_box {\n    width: 450px;\n    height: 300px;\n    background: rgba(255, 254, 254, 0.945);\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    box-shadow: 0px 1px 2px 2px rgba(255, 255, 255, 0.712);\n  }\n  .icon_box {\n    height: 130px;\n    width: 130px;\n    border: 1px solid #eee;\n    border-radius: 50%;\n    padding: 10px;\n    box-shadow: 0px 0px 10px #ddd;\n    position: absolute;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background-color: #fff;\n    img {\n      width: 100%;\n      height: 100%;\n      border-radius: 50%;\n      background-color: #eee;\n    }\n  }\n  .login_form {\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    padding: 0px 20px;\n    box-sizing: border-box;\n  }\n  .login_user,\n  .login_pwd {\n    font-size: 20px;\n    font-weight: bolder;\n  }\n  .btns {\n    display: flex;\n    justify-content: flex-end;\n  }\n  .toReg {\n    text-decoration: none;\n    position: absolute;\n    bottom: 20px;\n    right: 55%;\n    font-size: 14px;\n    color: #2449eb;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=23dad94b&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&lang=less&\"","module.exports = __webpack_public_path__ + \"assets/img/logo.82b9c7a5.png\";"],"sourceRoot":""}